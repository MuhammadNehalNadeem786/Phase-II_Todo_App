(()=>{var e={};e.id=665,e.ids=[665],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},6281:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6912:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c});var s=r(7096),a=r(6132),n=r(7284),o=r.n(n),i=r(2564),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9179)),"S:\\Github\\Phase-II_Todo_App\\frontend\\src\\app\\(auth)\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1391)),"S:\\Github\\Phase-II_Todo_App\\frontend\\src\\app\\(auth)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9113)),"S:\\Github\\Phase-II_Todo_App\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],u=["S:\\Github\\Phase-II_Todo_App\\frontend\\src\\app\\(auth)\\login\\page.tsx"],d="/(auth)/login/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7810:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3579,23)),Promise.resolve().then(r.t.bind(r,619,23)),Promise.resolve().then(r.t.bind(r,1459,23)),Promise.resolve().then(r.t.bind(r,3456,23)),Promise.resolve().then(r.t.bind(r,847,23)),Promise.resolve().then(r.t.bind(r,7303,23))},7553:()=>{},6772:(e,t,r)=>{Promise.resolve().then(r.bind(r,9717))},5303:()=>{},9717:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(3854),a=r(4218),n=r(1018),o=r(5548),i=r.n(o),l=r(4340),c=r(8504);function u(){let[e,t]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[p,h]=(0,a.useState)(!1),x=(0,n.useRouter)(),{login:m}=(0,l.a)(),g=async t=>{if(t.preventDefault(),d(""),!(0,c.oH)(e)){d("Please enter a valid email");return}if(!r){d("Password is required");return}h(!0);try{await m(e,r),x.push("/dashboard"),x.refresh()}catch{d("Invalid email or password")}finally{h(!1)}};return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-black bg-[radial-gradient(ellipse_at_top,_rgba(255,255,255,0.05),_transparent_60%)]",children:(0,s.jsxs)("div",{className:"w-full max-w-sm rounded-2xl border border-white/10 bg-black/90 px-8 py-10 shadow-2xl",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h1",{className:"text-lg font-semibold text-white tracking-wide",children:"Todo App"})}),s.jsx("h2",{className:"text-center text-2xl font-bold text-white mb-8",children:"Sign in"}),(0,s.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[u&&s.jsx("div",{className:"rounded-md border border-red-500/30 bg-red-500/10 p-3",children:s.jsx("p",{className:"text-sm text-red-400",children:u})}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs text-zinc-400 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full rounded-lg border border-white/15 bg-black px-4 py-3 text-white placeholder-zinc-500 focus:border-white/40 focus:ring-2 focus:ring-white/10 outline-none"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs text-zinc-400 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:r,onChange:e=>o(e.target.value),className:"w-full rounded-lg border border-white/15 bg-black px-4 py-3 text-white placeholder-zinc-500 focus:border-white/40 focus:ring-2 focus:ring-white/10 outline-none"})]}),s.jsx("button",{type:"submit",disabled:p,className:"mt-4 w-full rounded-lg bg-white py-3.5 text-sm font-semibold text-black hover:bg-zinc-200 transition disabled:opacity-50",children:p?"Signing in…":"Sign in"})]}),(0,s.jsxs)("div",{className:"mt-8 text-center space-y-3",children:[s.jsx(i(),{href:"/signup",className:"text-sm text-zinc-400 hover:text-white",children:"Do not have an account? Sign up"}),s.jsx("div",{children:s.jsx(i(),{href:"/",className:"text-xs text-zinc-500 hover:text-white",children:"← Back to home"})})]})]})})}},4340:(e,t,r)=>{"use strict";r.d(t,{a:()=>c});var s=r(4218),a=r(6874);let n=process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8000",o="auth_user",i="jwt_token",l={login:async(e,t)=>{try{let r=await a.Z.post(`${n}/auth/login`,{email:e,password:t},{headers:{"Content-Type":"application/json"}}),{user:s,token:l}=r.data;return localStorage.setItem(i,l),localStorage.setItem(o,JSON.stringify(s)),{user:s,token:l}}catch(e){if(a.Z.isAxiosError(e))throw Error(e.response?.data?.message||"Login failed");throw e}},signup:async(e,t,r)=>{try{let s=await a.Z.post(`${n}/auth/signup`,{username:r,email:e,password:t},{headers:{"Content-Type":"application/json"}}),{user:l,token:c}=s.data;return localStorage.setItem(i,c),localStorage.setItem(o,JSON.stringify(l)),{user:l,token:c}}catch(e){if(a.Z.isAxiosError(e))throw Error(e.response?.data?.message||"Signup failed");throw e}},logout:async()=>(localStorage.removeItem(i),localStorage.removeItem(o),{message:"Successfully logged out"}),getCurrentSession:async()=>{let e=localStorage.getItem(i),t=localStorage.getItem(o);if(!e||!t)return null;try{return{token:e,user:JSON.parse(t)}}catch{return localStorage.removeItem(i),localStorage.removeItem(o),null}},isAuthenticated:()=>!!localStorage.getItem(i)},c=()=>{let[e,t]=(0,s.useState)(null),[r,a]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=async()=>{try{let e=await l.getCurrentSession();e?(t(e.user),a(!0)):(t(null),a(!1))}catch(e){console.error("Error checking auth status:",e),t(null),a(!1)}finally{o(!1)}};e()},[]);let i=async(e,r)=>{try{let s=await l.login(e,r);return t(s.user),a(!0),s}catch(e){throw e}},c=async(e,r,s)=>{try{let n=await l.signup(e,r,s);return t(n.user),a(!0),n}catch(e){throw e}},u=async()=>{try{await l.logout(),t(null),a(!1)}catch(e){console.error("Error during logout:",e)}};return{user:e,isAuthenticated:r,isLoading:n,login:i,signup:c,logout:u}}},8504:(e,t,r)=>{"use strict";r.d(t,{oH:()=>s,uo:()=>a});let s=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),a=e=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%*#?&]{8,}$/.test(e)},1391:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(4656);function a({children:e}){return s.jsx("div",{className:"w-screen h-screen bg-black overflow-hidden",children:e})}},9179:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var s=r(5153);let a=(0,s.createProxy)(String.raw`S:\Github\Phase-II_Todo_App\frontend\src\app\(auth)\login\page.tsx`),{__esModule:n,$$typeof:o}=a,i=a.default,l=i},9113:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>o});var s=r(4656),a=r(186),n=r.n(a);r(5023);let o={title:"Todo App",description:"A secure todo application with authentication"};function i({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:`${n().className} min-h-screen`,children:s.jsx("div",{className:"min-h-screen flex flex-col",children:e})})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[211,642,548],()=>r(6912));module.exports=s})();