(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9877:function(e,t,r){Promise.resolve().then(r.bind(r,5721))},5721:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7437),a=r(4033),s=r(1396),i=r.n(s),l=r(4302);function o(){let{isAuthenticated:e,isLoading:t,logout:r,user:s}=(0,l.a)();return((0,a.useRouter)(),t)?(0,n.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-white"})}):(0,n.jsxs)("div",{className:"min-h-screen bg-black text-white flex flex-col font-sans",children:[(0,n.jsxs)("nav",{className:"w-full py-6 px-10 flex justify-between items-center fixed top-0 z-50 bg-black/50 backdrop-blur-md",children:[(0,n.jsx)("div",{className:"text-white font-bold tracking-tight",children:"Todo App"}),(0,n.jsx)("div",{className:"flex items-center space-x-8 text-sm font-medium",children:e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"text-zinc-400",children:["Welcome, ",null==s?void 0:s.email]}),(0,n.jsx)("button",{onClick:()=>r(),className:"hover:text-zinc-300 transition",children:"Logout"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{href:"/login",className:"text-zinc-400 hover:text-white transition",children:"Sign In"}),(0,n.jsx)(i(),{href:"/signup",className:"text-zinc-400 hover:text-white transition",children:"Sign Up"})]})})]}),(0,n.jsx)("main",{className:"flex-grow flex flex-col items-center justify-center text-center px-4 pt-20",children:(0,n.jsxs)("div",{className:"max-w-4xl",children:[(0,n.jsxs)("h1",{className:"text-6xl md:text-8xl font-bold tracking-tighter mb-6 leading-tight",children:["Align Your Tasks ",(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-zinc-500",children:"Empower Your Productivity"})]}),(0,n.jsx)("p",{className:"text-zinc-400 text-lg md:text-xl max-w-2xl mx-auto mb-10 leading-relaxed",children:"Stay organized and productive with our intuitive task management app. Create, edit, and track your tasks effortlessly."}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-center space-x-6",children:[(0,n.jsx)(i(),{href:"/signup",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg text-sm font-medium transition-all shadow-lg",children:"Get Started Free"}),(0,n.jsx)(i(),{href:"/login",className:"bg-transparent border border-indigo-600 text-indigo-400 hover:bg-indigo-900/50 px-8 py-3 rounded-lg text-sm font-medium transition-all",children:"Sign In"})]})]})}),(0,n.jsx)("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-zinc-800 to-transparent mb-10"})]})}},4302:function(e,t,r){"use strict";r.d(t,{a:function(){return u}});var n=r(2265),a=r(4829),s=r(2601);let i=s.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8000",l="auth_user",o="jwt_token",c={login:async(e,t)=>{try{let r=await a.Z.post("".concat(i,"/auth/login"),{email:e,password:t},{headers:{"Content-Type":"application/json"}}),{user:n,token:s}=r.data;return localStorage.setItem(o,s),localStorage.setItem(l,JSON.stringify(n)),{user:n,token:s}}catch(e){if(a.Z.isAxiosError(e)){var r,n;throw Error((null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)||"Login failed")}throw e}},signup:async(e,t,r)=>{try{let n=await a.Z.post("".concat(i,"/auth/signup"),{username:r,email:e,password:t},{headers:{"Content-Type":"application/json"}}),{user:s,token:c}=n.data;return localStorage.setItem(o,c),localStorage.setItem(l,JSON.stringify(s)),{user:s,token:c}}catch(e){if(a.Z.isAxiosError(e)){var n,s;throw Error((null===(s=e.response)||void 0===s?void 0:null===(n=s.data)||void 0===n?void 0:n.message)||"Signup failed")}throw e}},logout:async()=>(localStorage.removeItem(o),localStorage.removeItem(l),{message:"Successfully logged out"}),getCurrentSession:async()=>{let e=localStorage.getItem(o),t=localStorage.getItem(l);if(!e||!t)return null;try{return{token:e,user:JSON.parse(t)}}catch(e){return localStorage.removeItem(o),localStorage.removeItem(l),null}},isAuthenticated:()=>!!localStorage.getItem(o)},u=()=>{let[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=async()=>{try{let e=await c.getCurrentSession();e?(t(e.user),a(!0)):(t(null),a(!1))}catch(e){console.error("Error checking auth status:",e),t(null),a(!1)}finally{i(!1)}};e()},[]);let l=async(e,r)=>{try{let n=await c.login(e,r);return t(n.user),a(!0),n}catch(e){throw e}},o=async(e,r,n)=>{try{let s=await c.signup(e,r,n);return t(s.user),a(!0),s}catch(e){throw e}},u=async()=>{try{await c.logout(),t(null),a(!1)}catch(e){console.error("Error during logout:",e)}};return{user:e,isAuthenticated:r,isLoading:s,login:l,signup:o,logout:u}}}},function(e){e.O(0,[600,396,971,472,744],function(){return e(e.s=9877)}),_N_E=e.O()}]);